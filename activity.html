<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ¹Ù„Ù… Ø§Ù„ÙƒÙ„Ù…Ø§Øª - Ù†Ø´Ø§Ø· Ù…ØªØ³Ù„Ø³Ù„</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      direction: rtl;
      background-color: #d9f0ff; /* Ø£Ø²Ø±Ù‚ ÙØ§ØªØ­ */
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #ff7f00; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
      font-weight: bold;
      font-size: 2.5em;
      margin-bottom: 30px;
    }
    /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ù„ÙŠØ¬Ø¹Ù„ Ø§Ù„ØµÙˆØ± ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø´Ø§Ø´Ø© */
    .images {
      display: flex;
      flex-wrap: wrap;
      justify-content: center; /* Ù…Ø±ÙƒØ² Ø§Ù„ØµÙˆØ± Ø£ÙÙ‚ÙŠØ§Ù‹ */
      align-items: center;     /* Ù…Ø±ÙƒØ² Ø§Ù„ØµÙˆØ± Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
      gap: 15px;
      margin-bottom: 20px;
    }
    .images img {
      width: 150px;
      margin: 10px;
      cursor: pointer;
      border: 4px solid transparent;
      border-radius: 15px;
      transition: border-color 0.3s ease;
    }
    .images img.correct {
      border-color: #ffeb3b; /* Ø£ØµÙØ± */
      box-shadow: 0 0 10px #ffeb3b;
    }
    .images img.wrong {
      border-color: #f44336; /* Ø£Ø­Ù…Ø± */
      box-shadow: 0 0 10px #f44336;
    }
    .feedback {
      font-size: 26px;
      margin-top: 20px;
      font-weight: bold;
      min-height: 40px;
      color: white;
      padding: 10px 0;
    }
    .feedback.success {
      background-color: #ffeb3b; /* Ø£ØµÙØ± */
      color: #000;
      border-radius: 10px;
      width: 200px;
      margin: 20px auto 0;
    }
    .feedback.error {
      background-color: #f44336; /* Ø£Ø­Ù…Ø± */
      color: white;
      border-radius: 10px;
      width: 200px;
      margin: 20px auto 0;
    }
    .letters {
      margin-top: 30px;
    }
    .letter {
      font-size: 36px;
      padding: 15px 25px;
      margin: 5px;
      background-color: #4caf50; /* Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ */
      color: white;
      border-radius: 15px;
      display: inline-block;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    .letter.correct {
      background-color: #ffeb3b; /* Ø£ØµÙØ± */
      color: #000;
      cursor: default;
    }
    .letter.wrong {
      background-color: #f44336; /* Ø£Ø­Ù…Ø± */
      color: white;
    }
    #typedWord {
      font-size: 36px;
      margin-top: 25px;
      font-weight: bold;
      min-height: 50px;
      color: #333;
    }
    #success {
      display: none;
      margin-top: 30px;
      font-size: 32px;
      font-weight: bold;
      color: #ffeb3b; /* Ø£ØµÙØ± */
      text-shadow: 1px 1px 5px #000;
    }

    /* ØªÙ†Ø³ÙŠÙ‚ Ù…ØªØ¬Ø§ÙˆØ¨ Ù„Ù„Ù‡ÙˆØ§ØªÙ */
    @media (max-width: 600px) {
      .images img {
        width: 100px;
      }
      h1 {
        font-size: 1.8em;
      }
      .letter {
        font-size: 28px;
        padding: 10px 18px;
      }
      #typedWord {
        font-size: 28px;
      }
    }
  </style>
</head>
<body>

  <h1 id="questionTitle">Ø£ÙŠÙ† Ø§Ù„ØªÙØ§Ø­Ø©ØŸ</h1>

  <!-- Ø£ØµÙˆØ§Øª -->
  <audio id="questionAudio" src="audio/where_is_apple.wav"></audio>
  <audio id="goodAudio" src="audio/good_job.wav"></audio>
  <audio id="tryAudio" src="audio/try_again.wav"></audio>
  <audio id="clapAudio" src="audio/clap.wav"></audio>

  <div class="images" id="imagesContainer"></div>

  <div class="feedback" id="feedback"></div>

  <div class="letters" id="lettersContainer"></div>

  <div id="typedWord"></div>
  <div id="success">Ø±Ø§Ø¦Ø¹! ğŸŒŸ</div>

  <script>
    const activities = [
      {
        word: "ØªÙØ§Ø­Ø©",
        question: "Ø£ÙŠÙ† Ø§Ù„ØªÙØ§Ø­Ø©ØŸ",
        audio: "audio/where_is_apple.wav",
        options: [
          {src: "images/banana.jpg", alt: "Ù…ÙˆØ²Ø©", correct: false},
          {src: "images/apple.jpg", alt: "ØªÙØ§Ø­Ø©", correct: true},
          {src: "images/ball.jpg", alt: "ÙƒØ±Ø©", correct: false}
        ],
        letters: ['Øª', 'Ù', 'Ø§', 'Ø­', 'Ø©']
      },
      {
        word: "ÙƒØ±Ø©",
        question: "Ø£ÙŠÙ† Ø§Ù„ÙƒØ±Ø©ØŸ",
        audio: "audio/where_is_ball.wav",
        options: [
          {src: "images/apple.jpg", alt: "ØªÙØ§Ø­Ø©", correct: false},
          {src: "images/ball.jpg", alt: "ÙƒØ±Ø©", correct: true},
          {src: "images/banana.jpg", alt: "Ù…ÙˆØ²Ø©", correct: false}
        ],
        letters: ['Ùƒ', 'Ø±', 'Ø©']
      },
      {
        word: "Ù…ÙˆØ²Ø©",
        question: "Ø£ÙŠÙ† Ø§Ù„Ù…ÙˆØ²Ø©ØŸ",
        audio: "audio/where_is_banana.wav",
        options: [
          {src: "images/ball.jpg", alt: "ÙƒØ±Ø©", correct: false},
          {src: "images/banana.jpg", alt: "Ù…ÙˆØ²Ø©", correct: true},
          {src: "images/apple.jpg", alt: "ØªÙØ§Ø­Ø©", correct: false}
        ],
        letters: ['Ù…', 'Ùˆ', 'Ø²', 'Ø©']
      }
    ];

    let currentActivityIndex = 0;
    let currentLetterIndex = 0;

    const questionTitle = document.getElementById("questionTitle");
    const questionAudio = document.getElementById("questionAudio");
    const goodAudio = document.getElementById("goodAudio");
    const tryAudio = document.getElementById("tryAudio");
    const clapAudio = document.getElementById("clapAudio");

    const imagesContainer = document.getElementById("imagesContainer");
    const feedback = document.getElementById("feedback");
    const lettersContainer = document.getElementById("lettersContainer");
    const typedWord = document.getElementById("typedWord");
    const success = document.getElementById("success");

    function loadActivity() {
      success.style.display = "none";
      feedback.innerText = "";
      feedback.className = "feedback";
      typedWord.innerText = "";
      lettersContainer.innerHTML = "";
      imagesContainer.innerHTML = "";

      const activity = activities[currentActivityIndex];
      currentLetterIndex = 0;

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ØµÙˆØª
      questionTitle.innerText = activity.question;
      questionAudio.src = activity.audio;
      questionAudio.play();

      // Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±
      activity.options.forEach(option => {
        const img = document.createElement("img");
        img.src = option.src;
        img.alt = option.alt;
        img.style.borderColor = "transparent";
        img.className = "";
        img.onclick = () => checkAnswer(img, option.correct);
        imagesContainer.appendChild(img);
      });

      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø­Ø±ÙˆÙ Ø­ØªÙ‰ Ø§Ù„Ù†Ø¬Ø§Ø­
      lettersContainer.style.display = "none";
    }

    function checkAnswer(img, isCorrect) {
      if (isCorrect) {
        img.classList.add("correct");
        feedback.className = "feedback success";
        feedback.innerText = "Ø£Ø­Ø³Ù†Øª!";
        goodAudio.play();
        setTimeout(() => {
          imagesContainer.style.display = "none";
          feedback.innerText = "Ø±ØªØ¨ Ø­Ø±ÙˆÙ ÙƒÙ„Ù…Ø© " + activities[currentActivityIndex].word;
          lettersContainer.style.display = "block";

          // Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±ÙˆÙ Ù…Ø¨Ø¹Ø«Ø±Ø©
          renderLetters();
        }, 2000);
      } else {
        img.classList.add("wrong");
        feedback.className = "feedback error";
        feedback.innerText = "Ø¬Ø±Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";
        tryAudio.play();
        setTimeout(() => {
          img.classList.remove("wrong");
          feedback.innerText = "";
          feedback.className = "feedback";
        }, 1200);
      }
    }

    function renderLetters() {
      lettersContainer.innerHTML = "";
      const letters = activities[currentActivityIndex].letters.slice();

      // Ø®Ù„Ø· Ø§Ù„Ø­Ø±ÙˆÙ
      letters.sort(() => Math.random() - 0.5);

      letters.forEach(letter => {
        const div = document.createElement("div");
        div.className = "letter";
        div.innerText = letter;
        div.onclick = () => pickLetter(div);
        lettersContainer.appendChild(div);
      });
    }

    function pickLetter(div) {
      if (div.classList.contains("correct")) return;

      const currentLetter = activities[currentActivityIndex].letters[currentLetterIndex];

      if (div.innerText === currentLetter) {
        typedWord.innerText += div.innerText;
        div.classList.add("correct");
        div.onclick = null;
        currentLetterIndex++;
        if (currentLetterIndex === activities[currentActivityIndex].letters.length) {
          success.style.display = "block";
          clapAudio.play();

          setTimeout(() => {
            currentActivityIndex++;
            if (currentActivityIndex < activities.length) {
              imagesContainer.style.display = "flex";
              loadActivity();
            } else {
              questionTitle.innerText = "ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø´Ø·Ø©.";
              imagesContainer.style.display = "none";
              lettersContainer.style.display = "none";
              feedback.innerText = "";
              typedWord.innerText = "";
              success.innerText = "ğŸ‰ğŸ‘ğŸ‘ğŸ‘ğŸ‰";
              success.style.display = "block";
            }
          }, 3000);
        }
      } else {
        div.classList.add("wrong");
        tryAudio.play();
        setTimeout(() => div.classList.remove("wrong"), 800);
      }
    }

    window.onload = loadActivity;
  </script>

</body>
</html>
